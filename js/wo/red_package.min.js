define("wo/red_package",["base_package","frame_package","btn_package","wo_config","commom_function","get_template","footer_view","notice","new_alert_v2"],function(e,i){var a=e("zepto"),t=e("wo_config"),n=e("page_control");e("backbone");var d=e("commom_function");e("mustache"),e("notice"),e("cookies");var o=e("new_alert_v2"),s=!1;i.route={red_package:"red_package"},i.new_page_entity=function(){function i(e){e?(_.$el.find("[data-has_get_red_package]").hide(),_.$el.find("[data-to_my_wallet]").hide(),_.$el.find("[data-has_not_get_red_package]").show(),_.$el.find("[data-open_red_package]").show()):(_.$el.find("[data-has_not_get_red_package]").hide(),_.$el.find("[data-to_my_wallet]").show(),_.$el.find("[data-has_get_red_package]").show(),_.$el.find("[data-open_red_package]").hide())}function l(e,i,a){var n={t:parseInt((new Date).getTime()),action_tag:e};d.send_request({url:t.ajax_url.to_red_package,data:n,callback:function(e){"function"==typeof i&&i.call(this,e)},error:function(){"function"==typeof a&&a.call(this)}})}var r={route:{about:"about"},transition_type:"slide",dom_not_cache:!0,ignore_exist:!0};r.initialize=function(){this.render()},r.render=function(){var e=this,i='<header class="header re tc font_wryh">\u4e16\u754c\u5e01</header><div class="main_wrapper"><div class="wraper_padding" style="padding-top:45px;"><div class="world-coin-page bgcfff tc"><p class="fb color009 font_wryh" style="font-size:18px;">\u4e16\u754c\u5e01\u6b63\u5f0f\u53d1\u884c</p><p class="f14 color333 mt5">\u751f\u6d3b\u56e0\u5206\u4eab\u800c\u7cbe\u5f69 \u4e16\u754c\u56e0\u4f60\u800c\u6539\u53d8</p><div class="red-box color333" data-has_not_get_red_package="" style="display:none"><div class="lh16 f12 mb5">\u501f\u7740\u65b0\u5e74\u4e4b\u9645\uff0c\u613f\u5c0f\u5c0f\u7684\u793c\u5305<br/>\u966a\u4f34\u4f60\u8d70\u8fc7\u5feb\u4e50\u5e78\u798f\u7684<span class="font-arial">2014</span></div><div class="icon-red-img icon icon-close"></div></div><div class="red-box color333" data-has_get_red_package="" style="display:none"><p class="f14">\u606d\u559c\u4f60\uff0c\u83b7\u5f97 <span class="num fb" data-world-coins="">0</span> \u4e16\u754c\u5e01</p><p class="f10 color666 mb5">\uff08\u53ef\u7528\u4e8e\u8d60\u9001\u793c\u7269\u7ed9\u597d\u53cb\uff0c\u4e3aTA\u63d0\u5347\u9b45\u529b\u503c\uff09</p><div class="icon-red-img icon icon-open"></div></div><div class="save_btn" data-open_red_package="" style="display:none">\u9a6c\u4e0a\u9886\u53d6\u793c\u5305</div><div class="save_btn" data-to_my_wallet="" style="display:none">\u53bb\u770b\u770b\u6211\u7684\u94b1\u5305</div></div></div></div>';e.$el.append(a(i))},r.events={"tap .ui-btn-prev-wrap":function(){n.back()},swiperight:function(){d.get_ua().is_uc||n.back()},"tap [data-to_my_wallet]":function(){n.navigate_to_page("my_wallet")},"tap [data-open_red_package]":function(){s||(s=!0,_.$el.find("[data-open_red_package]").html("\u6b63\u5728\u6253\u5f00..."),l("get",function(e){s=!1,e.code>0?(i(!1),_.$el.find("[data-world-coins]").html(e.code),_.$el.find("[data-open_red_package]").html("\u9a6c\u4e0a\u6253\u5f00\u7ea2\u5305")):i(!0)},function(){s=!1,_.$el.find("[data-open_red_package]").html("\u9a6c\u4e0a\u6253\u5f00\u7ea2\u5305")}))}},r.window_change=function(e){a(e.el).find(".main_wrapper").height(d.container_height_with_head())};var c,_;r.page_init=function(t){_=t;var s=d.get_local_poco_id();if(0>=s)return o.show({text:"\u5c1a\u672a\u767b\u5f55",type:"info",is_fade:!1,is_cover:!0,auto_close_time:1e3,closed_callback:function(){n.back()}}),!1;var r=a(t.el).find("header"),m=e("page_back_btn")();r.prepend(m.$el);var p=a(t.el).find(".main_wrapper"),f=e("scroll");c=f.new_scroll(p,{view_height:d.container_height_with_head()}),l("check",function(e){e.code?(i(!1),_.$el.find("[data-has_get_red_package]").hide()):i(!0)},function(){})};var m=e("page").new_page(r);return m}}),"function"==typeof process_add&&process_add();