define("wo/weixin_callback",["base_package","frame_package","btn_package","wo_config","commom_function","get_template","new_alert_v2"],function(e,i){var t=e("zepto"),a=e("wo_config");e("page_control"),e("backbone");var n=e("commom_function");e("mustache");var o=e("new_alert_v2");i.route={"weixin_callback/:locate":"weixin_callback"},i.new_page_entity=function(){function i(e,i){var t="http://m.poco.cn/mobile/action/login_bind.php?locate="+encodeURIComponent(f)+"&login_tag="+e;return i.find(".login").hide(),"poco"==e?(s(i),i.find(".poco_login").show(),void 0):(top.location.href=t,void 0)}function d(e){e.find("header").hide(),e.find(".main_wraper").css("padding","0 15px"),e.find(".login").show(),e.find(".login_form").hide(),e.find(".poco_login").hide(),e.find('[data-to_login="poco"]').show()}function s(e){e.find(".reg_header").show(),e.find(".login_header").hide()}var l={transition_type:"slide",dom_not_cache:!0,ignore_exist:!0};l.initialize=function(){this.render()},l.render=function(){var e='<div class="wrap-box"><header class="header font_wryh fb tc re login_header"><h3 class="tc" >\u7ed1\u5b9a\u5df2\u6709\u8d26\u53f7</h3></header><header class="header font_wryh fb tc re reg_header" style="display: none;"><h3 class="tc" style="font-weight: normal;">\u767b\u5f55</h3><div class="link-login"><div data-to_login_page class="border-left" style="font-weight: normal;">\u53d6\u6d88</div></div></header><div class="content main_wraper"  style="display:none;"><!-- \u767b\u5f55 ---> <div class="login font_wryh" style="padding-top:75px;"><div class="btn-item"><div class="sina-login login-box radius-2px"  data-to_login="sina_rebind_weixin"><div class="login-box-border radius-2px"><span class="radius-2px"><i class="icon icon-sina icon-bg-common"></i>\u4f7f\u7528\u65b0\u6d6a\u5fae\u535a\u8d26\u53f7\u767b\u5f55</span></div></div><div class="tencent-login login-box radius-2px" data-to_login="qqweibo_rebind_weixin"><div class="login-box-border radius-2px"><span class="radius-2px"><i class="icon icon-tencent icon-bg-common"></i>\u4f7f\u7528\u817e\u8baf\u5fae\u535a\u8d26\u53f7\u767b\u5f55 </span></div> </div><div class="qq-login login-box radius-2px" data-to_login="qqzone_rebind_weixin"><div class="login-box-border radius-2px"><span class="radius-2px"><i class="icon icon-qq icon-bg-common"></i>\u4f7f\u7528<b class="font-arial">QQ</b>\u8d26\u53f7\u767b\u5f55</span></div></div><div class="poco-login login-box radius-2px" data-to_login="poco"><div class="login-box-border radius-2px"><span class="radius-2px"><i class="icon icon-poco icon-bg-common"></i>\u4f7f\u7528<b class="font-arial">POCO</b>\u8d26\u53f7\u767b\u5f55</span></div></div><div class="poco-login login-box radius-2px" data-register_btn="poco" style="display: none;"><div class="login-box-border radius-2px"><span class="radius-2px"><i class="icon icon-poco icon-bg-common"></i>\u6ce8\u518c<b class="font-arial">POCO</b>\u8d26\u53f7</span></div></div><div style="margin-top:30px;color:#00922D;font-size:16px;text-align:center;text-decoration:underline"  new_comer_btn>\u6211\u662f\u65b0\u7528\u6237\uff0c\u8df3\u8fc7 >></div></div></div><div class="login_form" style="display: none;padding-top:45px;"><iframe style="width:100%;height:100%;" class="ifm" frameborder="0" border="0" scrolling="yes"></iframe></div><div class="poco_login" style="display: none;padding-top:45px;"  ><!-- \u767b\u5f55\u9875\u9762 ---><div class="login-page pt15 pb15 color999 f12 font_wryh"><div class="form-item"><div class="register-box radius-2px border-style-be bgcfff"><div class="input-box oh bdb-line-dcd"><input type="text" class="input-class font_wryh w-100 bdn bgn color000" data-login_user_id value="" placeholder="\u7528\u6237\u540d/Email/POCO\u53f7"/></div><div class="input-box bdbln oh bdb-line-dcd"><input type="password" class="input-class w-100 bdn bgn color000 font_wryh" data-login_user_pwd value="" placeholder="\u5bc6\u7801\uff0c6-20\u4f4d\u5b57\u7b26"/></div></div><div class="ui-btn-register mt15" data-login_btn><span class="radius-3px">\u767b\u5f55</span></div><p class="tc forget-psw mt20 f14">\u5fd8\u8bb0\u5bc6\u7801\uff1a\u8bf7\u7535\u8111\u767b\u5f55www.poco.cn\u627e\u56de</p></div></div><!-- \u767b\u5f55\u9875\u9762 end ---></div><!-- \u767b\u5f55 end ---> </div></div>';this.$el.append(t(e))};var r=!1;l.events={"tap [new_comer_btn]":function(){top.location.href=f},"tap [data-to_login]":function(e){var a=t(e.currentTarget).attr("data-to_login"),n=new Image;n.src="http://imgtj.poco.cn/pocotj_touch.css?url=touch://mpoco/mobile/"+a+"_login?tmp="+(new Date).getTime(),i(a,c)},"tap [data-to_login_page]":function(){d(c)},"tap [data-login_btn]":function(e){var i=c.find("[data-login_user_id]"),d=c.find("[data-login_user_pwd]"),s=t(e.currentTarget);return""==i.val()||""==d.val()?(o.show({text:"\u7528\u6237\u53f7\u7801\u6216\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a",type:"info",append_target:c,auto_close_time:2e3}),void 0):(r||(r=!0,s.find("span").text("\u767b\u5f55\u4e2d..."),n.send_request({url:a.ajax_url.login,data:{account:i.val(),password:d.val(),t:parseInt((new Date).getTime()),rebind_weixin:!0},callback:function(e){200==e.result?e.user_id>0&&(top.location.href=f):(o.show({text:e.err_msg,type:"info",auto_close_time:2e3}),r=!1),s.find("span").text("\u767b\u5f55")},error:function(){r=!1,s.find("span").text("\u767b\u5f55"),o.show({text:"\u767b\u5f55\u5931\u8d25",type:"info",auto_close_time:2e3})}})),void 0)}},l.page_before_show=function(e){e.$el.find(".main_wraper").show()};var _,c,m,p,f;l.page_init=function(i,a,o){c=t(i.el),m=o,p=a[0],p=decodeURIComponent(p),f=n.get_target_refresh_url_by_hash_name(p);var d=e("scroll"),s=t(i.el).find(".main_wraper");_=d.new_scroll(s,{view_height:n.container_height_with_head()}),i.$el.find(".no_authorize").css("height",n.container_height_with_head())};var h=e("page").new_page(l);return h}}),"function"==typeof process_add&&process_add();