define("wo/module/load_more_btn",["base_package"],function(e){function i(){var e=t.View.extend({tagName:"div",className:"more_btn_container data-more_btn pb15",reset_html:'<div class="btn-more  mt10 tc ui-btn-more">\u52a0\u8f7d\u66f4\u591a</div>',cmt_reset_html:'<div class="btn-more  mt10 tc ui-btn-more">\u67e5\u770b\u5386\u53f2\u6d88\u606f</div>',loadding_html:'<div class="btn-more  mt10 tc ui-btn-more"><span class="icon-bg-common loading-icon"></span>\u6b63\u5728\u52a0\u8f7d...</div>',initialize:function(){this.$el.html(this.reset_html),this.$el.hide()},show:function(){this.$el.show()},hide:function(){this.$el.hide()},loadding:function(){this.$el.html(this.loadding_html)},reset:function(){this.$el.html(this.reset_html)},cmt_reset:function(){this.$el.html(this.cmt_reset_html)}});return new e}e("zepto");var t=e("backbone");return i}),define("wo/module/paging_btn",["base_package"],function(e){function i(){var e=t.View.extend({tagName:"div",className:"more_btn_container pb15",paging_html:'<div class="paging_btn_wrap pre_paging_btn"><section class="paging_btn mr5"><<\u4e0a\u4e00\u9875</section></div><div class="paging_btn_wrap next_paging_btn"><section class="paging_btn ml5">\u4e0b\u4e00\u9875>></section></div>',initialize:function(){this.$el.html(this.paging_html),this.botn_side_btn=this.$el.find(".paging_btn"),this.pre_btn=this.$el.find(".paging_btn").eq(0),this.next_btn=this.$el.find(".paging_btn").eq(1),this.pre_ban=!0,this.next_ban=!1,this.$el.hide()},show:function(){this.$el.show()},hide:function(){this.$el.hide(),console.log("hide")},loadding:function(){this.botn_side_btn.css("color","#ccc")},reset:function(){this.botn_side_btn.css("color",""),this.pre_ban=!1,this.next_ban=!1},get_pre_page_btn_ban_mode:function(){return this.pre_ban},get_next_page_btn_ban_mode:function(){return this.next_ban},ban_pre_page_btn:function(){this.pre_ban=!0,this.pre_btn.css("color","#ccc"),this.next_ban&&this.hide(),console.log(this.next_ban)},ban_next_page_btn:function(){this.next_ban=!0,this.next_btn.css("color","#ccc"),this.pre_ban&&this.hide(),console.log(this.pre_ban)},open_next_page_btn:function(){this.next_ban=!1,this.next_btn.css("color",""),this.show()},open_pre_page_btn:function(){this.pre_ban=!1,this.pre_btn.css("color",""),this.show()}});return new e}e("zepto");var t=e("backbone");return i}),define("wo/module/follow_btn",["base_package","wo_config","commom_function","new_alert_v2"],function(e){function i(){var e=t.View.extend({tagName:"span",className:"data-follow_btn",status:"",other_follow_btn:{},initialize:function(e){var i=this,t="";i.user_id=e.user_id,i.status=e.status,i.account_type=e.account_type||"world",i.click_callback=e.click_callback||function(){},t=i.switch_tpl(e.status),this.$el.html(t)},events:{tap:"follow_action"},switch_tpl:function(e){var i,t='<span data-is_follow="1" class="ui-icon-add-wrap"><em class="ui-icon-add radius-2px fsn w-100 h-100 bgc-24b-2a8"><i class="icon-atten icon-add icon-bg-common"></i></em></span>',a='<span data-is_follow="0" class="ui-icon-item-wrap dib ml20 lh22 tc border-style-d2 f10 radius-2px"><em class="ui-icon-item radius-2px fsn"><i class="icon-atten icon-xh icon-bg-common"></i></em></span>',n='<span data-is_follow="0" class="ui-icon-item-wrap dib ml20 lh22 tc border-style-d2 f10 radius-2px"><em class="ui-icon-item radius-2px fsn"><i class="icon-atten icon-yi icon-bg-common"></i></em></span>',o='<span data-is_follow="0" class="ui-icon-item-wrap dib ml20 lh22 tc border-style-d2 f10 radius-2px"><em class="ui-icon-item radius-2px fsn"><i class="icon icon-bg-common icon-load"></i></em></span>';switch(e){case"both":i=a;break;case"follow":i=n;break;case"none":case"no_permissions":case"logout":i=t;break;case"fans":i=t;break;case"loading":i=o}return i},show:function(){this.$el.show()},hide:function(){this.$el.hide()},follow_action:function(e,i){var t=this,s=n.get_local_poco_id();if(0==s){var l=new Image;return l.src="http://imgtj.poco.cn/pocotj_touch.css?url=touch://mpoco/mobile/follow_btn?account_type="+t.account_type+"&is_login=0&tmp=1380507066930",console.log("http://imgtj.poco.cn/pocotj_touch.css?url=touch://mpoco/mobile/follow_btn?account_type="+t.account_type+"&is_login=0&tmp=1380507066930"),d.navigate_to_page("login"),void 0}if(!t.onload){t.onload=!0;var l=new Image;l.src="http://imgtj.poco.cn/pocotj_touch.css?url=touch://mpoco/mobile/follow_btn?account_type="+t.account_type+"&is_login=1&tmp=1380507066930",console.log("http://imgtj.poco.cn/pocotj_touch.css?url=touch://mpoco/mobile/follow_btn?account_type="+t.account_type+"&is_login=1&tmp=1380507066930");var r=t.$el.find("[data-is_follow]").attr("data-is_follow");t.reset_btn("loading"),n.send_request({url:a.ajax_url.follow_user,data:{user_id:t.user_id,is_follow:r,account_type:t.account_type,t:parseInt((new Date).getTime())},callback:function(i){1==i.result&&(t.reset_btn(i.follow_status),"follow"==i.follow_status||"both"==i.follow_status?o.show({text:"\u5173\u6ce8\u6210\u529f",auto_close_time:2e3}):"none"==i.follow_status||"fans"==i.follow_status?o.show({text:"\u53d6\u6d88\u5173\u6ce8",type:"info",auto_close_time:2e3}):"no_permissions"==i.follow_status&&o.show({text:"\u5173\u6ce8\u5931\u8d25\uff0c\u4f60\u6240\u5173\u6ce8\u7684\u597d\u53cb\u6570\u5df2\u7ecf\u8fbe\u5230\u4e0a\u9650",type:"info",auto_close_time:2e3}),t.options.other_follow_btn&&t.options.other_follow_btn.cid&&t.options.other_follow_btn.reset_btn(i.follow_status)),0==i.result&&(o.show({text:"\u64cd\u4f5c\u5931\u8d25",type:"info",auto_close_time:2e3}),t.reset_btn(t.status)),"function"==typeof e&&e.call(this,i),"function"==typeof t.click_callback&&t.click_callback.call(this,i),t.onload=!1},error:function(){"function"==typeof i&&i.call(this),t.reset_btn(t.status),t.onload=!1}})}},reset_btn:function(e){var i=this,t=i.switch_tpl(e);this.$el.parent().find(".data-follow_btn").html(""),this.$el.html(t)}});return e}e("zepto");var t=e("backbone"),a=e("wo_config"),n=e("commom_function"),o=e("new_alert_v2"),d=e("page_control");return i}),define("wo/module/page_back_btn",["base_package","frame_package","cookies"],function(e){function i(){var e=t.View.extend({tagName:"div",className:"ui-btn-header-wrap ui-btn-prev-wrap",initialize:function(){var e=n.page_history();if(1>=e){var i='<div class="ui-btn-header ui-btn-prev radius-2px" ><span class="icon icon-home icon-bg-common"></span></div>';this.$el.html(i)}else{var t=a.readCookie("cok_framename");if(null==t||""==t){var i='<div class="ui-btn-header ui-btn-prev radius-2px" ><span class="icon icon-arrow icon-bg-common"></span></div>';this.$el.html(i)}}}});return new e}e("zepto");var t=e("backbone"),a=e("cookies"),n=e("page_control");return i}),define("wo/module/refresh_btn",["base_package"],function(e){function i(){var e=t.View.extend({tagName:"div",className:"ui-btn-header-wrap ui-btn-refresh-wrap",initialize:function(){var e='<div class="ui-btn-header ui-btn-refresh radius-2px"><span class="icon icon-refresh icon-bg-common"></span></div>';this.$el.html(e)},loadding:function(){var e=this.$el.find("span");e.removeClass("icon-refresh"),e.addClass("icon-load")},reset:function(){var e=this.$el.find("span");e.removeClass("icon-load"),e.addClass("icon-refresh")}});return new e}e("zepto");var t=e("backbone");return i}),"function"==typeof process_add&&process_add();