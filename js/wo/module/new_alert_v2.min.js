define("wo/module/new_alert_v2",["base_package"],function(e,i){var t=e("zepto"),a=e("backbone"),n=a.View.extend({className:"alert_bg",showed_tag:!1,close_tag:!1,duration:500,time_out_id:"",timing_function:"ease-out",corver_bg_html:"<div class='alert_corver' ></div>",alert_content_html:'<div data-tap_alert class="alert_msg" ><table style="font-size:14px;color:#fff" cellspacing=10 cellpadding=0><tr><td style="width:20px;"><div id="alert_icon" class="icon-bg-common"></div></td><td id="alert_text"class="font_wryh word_break" ></td></tr></table></div>',defaults:{},initialize:function(e){var i=this,e=e||i.defaults;i.__config(e),i.__render(),i.__resize(),i.__show(),i.auto_close_time>0&&(i.time_out_id=setTimeout(function(){i.close()},i.auto_close_time)),t(window).bind("resize",function(){i.__resize()})},__render:function(){var e=this;if(e.is_cover){var i=t(e.corver_bg_html);i.append(e.alert_content_html),e.$el.append(i),e.append_target.append(e.$el)}else e.$el.append(e.alert_content_html),e.append_target.append(e.$el);var a=e.$el.find("#alert_icon"),n=e.$el.find("#alert_text");a.removeClass(),a.addClass("icon-bg-common "+e.type),n.html(e.text)},__resize:function(){var e=this,i=t("body").width(),a=t("body").height(),n=e.$el.find(".alert_msg"),o=(i-n.width())/2,d=(a-n.height())/2;n.css({top:d+"px",left:o+"px"})},__show:function(){var e=this;e.is_fade?e.__fadeIn():(e.$el.show(),e.show_callback.call(this))},close:function(e){var i=this,e=e||!i.is_fade;e&&clearTimeout(i.time_out_id),e?(i.$el.remove(),i.close_tag=!1,i.closed_callback.call(this)):i.__fadeOut()},__fadeIn:function(){var e=this,i=e.$el.find(".alert_msg");i.css({opacity:0}),i.animate({opacity:1},e.duration,e.timing_function),setTimeout(function(){e.show_callback.call(this)},e.duration)},__fadeOut:function(){var e=this,i=e.$el.find(".alert_msg");i.css({opacity:1}),i.animate({opacity:0},e.duration,e.timing_function),setTimeout(function(){e.$el.remove(),e.close_tag=!1,e.closed_callback.call(this)},e.duration)},__config:function(e){var i=this,e=e||{},a=e.auto_close_time||!1,n=e.is_cover||!1,o=e.type||"success",d=e.text||"Test",s=e.show_callback||function(){},l=e.append_target||t("body"),r=e.closed_callback||function(){},c=null==e.is_fade?!0:e.is_fade;i.text=d,i.is_cover=n,i.auto_close_time=a,i.type=o,i.show_callback=s,i.append_target=l,i.closed_callback=r,i.is_fade=c}});i.show=function(e){return new n(e)}}),"function"==typeof process_add&&process_add();