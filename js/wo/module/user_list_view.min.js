define("wo/module/user_list_view",["base_package","frame_package","commom_function","wo_config"],function(e){var t=e("zepto"),i=e("backbone"),a=e("wo_config"),n=e("mustache"),o=e("commom_function"),s=e("page_control"),d=e("follow_btn")(),l=i.View.extend({tag:"div",className:"border-btm ",initialize:function(e){var e=e||{};this.tpl_type=e.tpl_type,this.model_data=e.model.attributes,this.select_type=e.select_type,this.render();var t=this.$el.find("td");this.left_colume=t.eq(0),this.center_colume=t.eq(1),this.right_colume=t.eq(2),this.start_generate()},events:{"tap [td_1]":function(){var e=this.model_data.user_id;if(e){var t;this.new_follow_btn_obj&&(t=this.new_follow_btn_obj),s.navigate_to_page("user_profile/"+e,{follow_btn_obj:t})}},"tap [td_2]":function(){var e=this;switch(e.tpl_type){case"fans":case"follow":case"recommend":case"search":case"theme_join_user":var t=e.model_data.user_id;t&&(e.new_follow_btn_obj?(btn_obj=e.new_follow_btn_obj,s.navigate_to_page("user_profile/"+t,{follow_btn_obj:btn_obj})):s.navigate_to_page("user_profile/"+t));break;case"cmt":var i=e.model_data.art_id,a=e.model_data.cmt_id,n=e.model_data.nickname,o={cmt_id:a,nickname:n};s.navigate_to_page("cmt/"+i,o)}},"tap [td_3]":function(){var e=this;switch(e.tpl_type){case"cmt":var t=e.model_data.art_id;if(o.is_empty(t))return!1;s.navigate_to_page("last/"+t+"/from_profile")}},"tap [invite_friend_btn]":function(e){var i=this,n=t(e.currentTarget);i.model_data.relationship;var s=i.model_data.account_type,d=i.model_data.receiver_uid,l=o.get_local_poco_id();l&&(o.send_request({url:a.ajax_url.invite_friend,data:{receiver_uid:d,account_type:s}}),n.find("span").width(44),n.find("em").html("\u5df2\u9080\u8bf7"),n.find("em").addClass("selected"))}},render:function(){var e='<table border="0"cellspacing="0"cellpadding="0"><tr><td valign="top" width="42" td_1></td><td td_2></td><td valign="top" width="40" td_3></td></tr></table>';this.$el.html(e)},set_left_colume_valign:function(e){this.left_colume.attr("valign",e)},start_generate:function(){var e=this,t=e.model_data.account_type,i=e.model_data.nickname,a=e.model_data.partner_nickname,s=e.model_data.user_icon,l=e.model_data.relationship,r=e.model_data.user_id,c=e.model_data.content,_=e.model_data.user_sex;switch(e.model_data.issue_title,e.model_data.issue_count,e.tpl_type){case"fans":case"follow":e.set_left_colume_valign("middle");var p='<div class="user-img"><img  src="'+e.model_data.user_icon+'"></div>',m='<span class="add_touch_range pt10 pb10">'+e.model_data.nickname+"</span>";break;case"recommend":case"search":if("world"==e.select_type){if("sina"==t)var h="\u65b0\u6d6a\u5fae\u535a\uff1a";else if("qq"==t)var h="\u817e\u8baf\u5fae\u535a\uff1a";else if("official"==t)var h="";else if("poco"==t)var h="POCO\u597d\u53cb",a="";else var h="\u4e16\u754c\u597d\u53cb\uff1a";var f='<div class="user-info"><p class="txt"><span class="name">{{nickname}}</span></p><p class="des">{{weibo_type}}{{partner_nickname}}</p></div>',m=n.to_html(f,{nickname:i,partner_nickname:a,weibo_type:h})}else var m='<div class="user-info"><p class="txt"><span class="name">'+a+"</span></p></div>";var p='<div class="user-img"><img  src="'+s+'"></div>';if("invite"==l||"invite_wo"==l)var u='<div invite_friend_btn><span class="ui-icon-item-wrap dib ml20 lh22 tc border-style-d2 f10 radius-2px"><em class="ui-icon-invite radius-2px fsn w-100 h-100 bgc-24b-2a8">\u9080\u8bf7</em></span></div>';else{var g=new d({status:l,user_id:r,account_type:t});e.new_follow_btn_obj=g;var u=g.$el}1==e.model_data.world_banner&&e.$el.attr("world_banner",1),1==e.model_data.recommend_banner&&e.$el.attr("recommend_banner",1);break;case"cmt":var v=o.matching_img_size(e.model_data.cover_img_url,"ms"),b=e.model_data.add_time,p='<div class="user-img"><img  src="'+s+'"></div>',w="";"\u7537"==_?w="icon-male":"\u5973"==_&&(w="icon-female");var m='<div class="user-info"><div class="clearfix"><span class="name lh16 fl">'+i+'</span><em class="sex_icon icon-bg-common '+w+'"></em></div><p class="txt lh20 mt5 mb5 cmt_content">'+c+'</p><div class="clearfix"><time class="time font-arial fl">'+b+"</time></div></div>",u='<div class="comment-img"><img src="'+v+'" style="width:32px;height:32px" class="img_buffer_bg"></div>';break;case"theme_join_user":console.log(e.model_data);var p='<div class="user-img"><img  src="'+s+'"></div>';if("\u7537"==_?w="icon-male":"\u5973"==_&&(w="icon-female"),e.model_data.location_city==e.model_data.location_province||o.is_empty(e.model_data.location_city))var y=e.model_data.location_province;else var y=e.model_data.location_province+"\u00b7"+e.model_data.location_city;o.is_empty(y)&&(y="");var m='<h4 class="clearfix mb5"><span class="color333 fl" style="line-height:14px;">'+i+'</span><i class="sex_icon fl icon-bg-common '+w+'"></i></h4><span class="time font-arial color999">'+y+"</span>",g=new d({status:e.model_data.relationship,user_id:e.model_data.user_id,account_type:"theme_join"});e.new_follow_btn_obj=g;var u=g.$el}e.left_colume.html(p),e.center_colume.html(m),e.right_colume.html(u)}});return l}),"function"==typeof process_add&&process_add();