define("wo/module/topic_txt_module",["base_package"],function(e){var i=e("zepto"),t=e("backbone"),a=e("mustache");e("commom_function");var n=t.View.extend({className:"publist_topic_txt_container topic_txt_container p10 bgcfff",topic_txt_str_arr:[],initialize:function(e){var e=e||{},i=this;i.click_topic_txt_callback=e.click_topic_txt_callback||function(){},i.click_more_callback=e.click_more_callback||function(){},i.data=e.data,i.history_data=JSON.parse(e.history_data),this._render(),this._render_history_data(i.history_data),this.hide()},_render:function(){var e=this,i='{{#list}}<div class="tag-wrap dib p5"><span class="tag-item tag-theme radius-2px" data-topic_txt title="{{title}}" keyword="{{keyword}}">{{title}}</span></div>{{/list}}',t=a.to_html(i,e.data),n='<div class="tag-box-wrap colorfff clearfix">'+t+"</div>";this.$el.html(n);var o='<div class="tag-wrap dib p5"><span class="tag-item tag-theme radius-2px tag-thmen-more" data-click_more>\u66f4\u591a</span></div>';this.$el.find(".tag-box-wrap").append(o)},_render_history_data:function(e){var t=this;if(e&&e.length>0){var a=[];i.each(e,function(i){a.push('<div class="tag-wrap dib p5"><span class="tag-item tag-theme radius-2px" data-topic_txt title="'+e[i].keyword+'" keyword="'+e[i].keyword+'">'+e[i].keyword+"</span></div>")}),t.$el.find(".tag-box-wrap").prepend(a.join(""))}},refresh:function(e){var i=this;i._render(),i._render_history_data(e)},events:{"tap [data-topic_txt]":function(e){var i=this;if("function"==typeof i.click_topic_txt_callback){var t=i.get_topic_txt_str(e);i.click_topic_txt_callback.call(this,t)}},"tap [data-click_more]":function(){var e=this;"function"==typeof e.click_more_callback&&e.click_more_callback.call(this)}},show:function(){this.$el.show()},hide:function(){this.$el.hide()},get_topic_txt_str:function(e){var t=this;t.topic_txt_str_arr=[];var a=e.currentTarget,n="#"+i(a).attr("keyword")+"# ";return t.topic_txt_str_arr.push(n),t.topic_txt_str_arr[0]}});return n}),"function"==typeof process_add&&process_add();