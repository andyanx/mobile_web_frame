define("wo/module/select_module",["base_package"],function(e){function i(){var i=e("scroll"),d=a.View.extend({className:"world_select",initialize:function(e){var e=e||{};this.onchange=e.onchange||"",this.default_key=e.default_key||"",this.options_data=e.options_data||"",this._render()},_render:function(){var e=this._render_options(this.options_data),t='<div class="cover_screen w-100 h-100"><div class="container tc vam"><div class="wraper dib bgcfff" ><section class="scroll_wraper oh"><div>'+e+'</div></section><section style="padding:5px;background:#f7f7f7"><table style="width:100%;" cellpadding="5"><tr><td style="width:50%"><span class="select_btn cancel color666 tc f14 bgc-fff-e6e">\u53d6\u6d88</span></td><td style="width:50%"><span class="select_btn tc f14 confirm colorfff bgc-24b-2a8">\u786e\u5b9a</span></td></tr></table></section></div></div></div>';this.$el.html(t),i.new_scroll(this.$el.find(".scroll_wraper"),{hideScrollbar:!1})},index_pos:"",index_key:"",index_val:"",events:{"tap .cancel":function(){this.close()},"tap .confirm":function(){var e=this,i=e.$el.find(".cur").length,t=e.$el.find(".cur").parents(".input-box");i&&t.attr("index")!=e.index_pos&&(e._set_data(t),"function"==typeof e.onchange&&e.onchange.call(e)),e.close()},"tap .input-box":function(e){this._select_action(e.currentTarget)}},_select_action:function(e){this.$el.find(".select_point").removeClass("cur");var i=t(e);i.find(".select_point").addClass("cur")},_set_data:function(e){this._select_action(e),this.index_pos=e.attr("index"),this.index_key=e.attr("key"),this.index_val=e.attr("val"),this.default_key=this.index_key},_render_options:function(e){var i='<div class="input-box p15 bgcfff bdb-line-e6e"  index="{{index}}"  key="{{key}}"  val="{{val}}" ><table border="0" cellspacing="0" cellpadding="0" class="reset_table w-100 f12"><tbody><tr><td >{{val}}</td><td style="width:16px"><div class="select_point re"><div class="inside_point"></div></div></td></tr></tbody></table></div>',a="";return t(e).each(function(e,t){t.index=e,a+=n.to_html(i,t)}),a},get_select_data:function(){return{pos:this.index_pos,key:this.index_key,val:this.index_val}},open:function(){var e=this;if(e._render(),t(document.body).append(e.$el),!o.is_empty(e.default_key)){var i=e.$el.find('[key="'+e.default_key+'"]');e._set_data(i)}},close:function(){t(this.$el).remove()},reset:function(){this.default_key="",this.index_pos="",this.index_key="",this.index_val=""}});return d}var t=e("zepto"),a=e("backbone"),n=e("mustache"),o=e("commom_function");return i}),"function"==typeof process_add&&process_add();