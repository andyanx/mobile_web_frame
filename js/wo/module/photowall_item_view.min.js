define("wo/module/photowall_item_view",["base_package","commom_function","ua","page_control"],function(e){var t=e("zepto"),n=e("backbone"),i=e("mustache"),a=e("commom_function"),o=e("ua"),r=e("page_control");return new_photowall_item_view=function(e){var e=e||{},s={tagName:"div",className:"photowall_item",events:{"tap [data-anchor]":function(){0!=this.art_id&&(this.btn_love_obj=this.$el.find(".icon-love"),r.navigate_to_page("last/"+this.art_id,{cover_img_width:this.cover_img_width,cover_img_height:this.cover_img_height,btn_love_obj:this.btn_love_obj,photo_txt_view:this.$el}))},"tap .love-div":function(){if(r.page_lock_status())return!1;var e=this;if(0!=this.art_id){if(poco_id=a.get_local_poco_id(),0==poco_id)return r.navigate_to_page("login"),void 0;if(!e.on_like){e.on_like=!0;var t=e.$el.find(".icon-love");if(t.hasClass("cur")){t.removeClass("cur");var n=0}else{t.addClass("cur");var n=1}a.like_photo_action(e.art_id,n,"list"),e.on_like=!1}}}},initialize:function(){"6">o.ios_version&&this.$el.addClass("fixed_scroll_blink");var e=this.img_size_sort(this.model.toJSON());this.art_id=e.art_id,this.cover_img_width=e.cover_img_width,this.cover_img_height=e.cover_img_height;var n='<div class="love-div radius-2px-btm"><em class="icon-love icon-bg-common  {{#like_style}}cur{{/like_style}}"></em></div>';0==this.art_id&&(n="");var a='<div class="item"   art_id="{{art_id}}"  cover_img_width="{{cover_img_width}}"  cover_img_height="{{cover_img_height}}"><div data-anchor ><img  src="{{{cover_img_url_s}}}"  style="height:{{img_show_height}}px;width:100%;"  class="img_buffer_bg"/></div><div class="publish" style="padding:7px 10px;" data-anchor><div class="user-txt font_wryh f12 lh18"><span class="name">{{user_nickname}}</span>\uff1a{{summary}}</div></div>'+n,r=i.to_html(a,e);t(this.el).html(r)},img_size_sort:function(e){return e.cover_img_url_s=a.matching_img_size(e.cover_img_url,"mm"),e.img_show_height=a.get_photowall_zoom_height_by_zoom_width(e.cover_img_width,e.cover_img_height),1==e.had_like&&(e.like_style=1),e}};s=t.extend(s,e);var l=n.View.extend(s);return new l}});