define("wo/module/show_big_img",["base_package"],function(e,i){var t=e("zepto"),a=e("backbone"),n=a.View.extend({className:"show_big_img_container",showed_tag:!1,close_tag:!1,duration:500,time_out_id:"",timing_function:"ease-out",big_img_html:'<div data-tap_big_img class="big_img_div"><table cellspacing="0" cellpadding="0"><tr><td id="big_img_td"><img data-big_img/><div class="icon-bg-common loading"></div><div class="xihuanta font_wryh" >\u559c\u6b22TA\u5c31\u52a0TA\u5427</div></td></tr></table></div>',defaults:{},events:{"tap [data-tap_big_img]":function(){var e=this;e.close()}},initialize:function(e){var i=this,e=e||i.defaults;i.__config(e),i.__render(),i.__resize(),i.__show(),t(window).bind("resize",function(){i.__resize()})},__render:function(){var e=this;e.$el.append(e.big_img_html),e.append_target.append(e.$el)},__resize:function(){var e=this;e.$el.find("[data-big_img]").height("auto");var i=t("body").width(),a=t("body").height(),n=e.$el.find(".big_img_div"),o=(i-n.width())/2,d=(a-n.height())/2;n.css({top:d+"px",left:o+"px"})},__show:function(){var e=this,i=new Image;i.src=e.img_url,e.$el.find("[data-big_img]").hide(),e.$el.find(".xihuanta").hide(),e.$el.find(".loading").show(),i.onload=function(){e.$el.find("[data-big_img]").attr("src",i.src),e.$el.find(".loading").hide(),e.$el.find("[data-big_img]").show(),e.$el.find("[data-big_img]").css("opacity",0),e.$el.find("[data-big_img]").animate({opacity:1}),e.$el.find(".xihuanta").show()},e.is_fade||(e.$el.show(),e.show_callback.call(this))},__zoom_img:function(){var e=this,i=e.$el.find("[data-big_img]"),t=window.innerWidth;window.innerHeight;var a=i.width(),n=i.height(),o=parseInt(n*t/a);i.css({height:o+"px"})},close:function(){var e=this;e.$el.remove(),e.close_tag=!1,e.closed_callback.call(this)},__config:function(e){var i=this,e=e||{},a=e.show_callback||function(){},n=e.append_target||t("body"),o=e.closed_callback||function(){},d=e.img_url||"",s=null==e.is_fade?!0:e.is_fade;i.show_callback=a,i.append_target=n,i.closed_callback=o,i.img_url=d,i.is_fade=s}});i.show=function(e){return new n(e)}}),"function"==typeof process_add&&process_add();