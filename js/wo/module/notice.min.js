define("wo/module/notice",["base_package"],function(e,i){var t,a,n,o,d,s,l=e("zepto"),r=e("commom_function");i.reset_notice_by_data=function(e){t=e.total||0,a=e.cmt_group||0,o=e.like_group||0,n=e.normal_group||0,d=e.friend_news||0,s=e.private_message_group||0,this.footer_notice_ui_refresh(),this.refresh_message_group_count()},i.update_unread_status_by_type=function(e,i){var i=i||0;switch(e){case"message":t-=i,s-=i;break;case"system":t-=n,n=0;break;case"cmt":t-=a,a=0;break;case"belike":t-=o,o=0;break;case"all":t=0,a=0,o=0,n=0}this.footer_notice_ui_refresh()},i.get_unread_count_by_type=function(e){var i;switch(e){case"message":i=s;break;case"system":i=n;break;case"cmt":i=a;break;case"belike":i=o;break;case"all":i=t}return i},i.footer_notice_ui_refresh=function(){var e=l("[data-footer_num]");t>0?(t>=100?e.find("[data-num_html]").html("\u00b7\u00b7\u00b7"):e.find("[data-num_html]").html(t),e.show()):e.hide(),this.footer_friends_red_point_ui_refresh(),this.footer_my_point_ui_refresh(),this.message_nav_num_refresh()},i.footer_friends_red_point_ui_refresh=function(){var e=r.get_local_poco_id();this.get_footer_friends_red_points_is_read(),e>0&&d>0?l("[data-footer_friend_point]").show():l("[data-footer_friend_point]").hide()},i.message_nav_num_refresh=function(){var e=this.get_unread_count_by_type("cmt"),i=this.get_unread_count_by_type("system"),t=this.get_unread_count_by_type("belike"),a=l("[data-nav='cmt_notice']").find(".num"),n=l("[data-nav='like_notice']").find(".num"),o=l("[data-nav='notice_list']").find(".num");e>0?(e>99&&(e="\u00b7\u00b7\u00b7"),a.find("[data-num_html]").html(e),a.show()):(a.find("[data-num_html]").html(0),a.hide()),i>0?(i>99&&(i="\u00b7\u00b7\u00b7"),o.find("[data-num_html]").html(i),o.show()):(o.find("[data-num_html]").html(0),o.hide()),t>0?(t>99&&(t="\u00b7\u00b7\u00b7"),n.find("[data-num_html]").html(t),n.show()):(n.find("[data-num_html]").html(0),n.hide())},i.set_footer_friends_red_points_is_read=function(e){d=e},i.get_footer_friends_red_points_is_read=function(){return window.localStorage.getItem("is_read")},i.get_friend_news=function(){return d},i.footer_my_point_ui_refresh=function(){var e=r.get_local_poco_id();1!=window.localStorage.getItem("my_new_version_tips")&&e>0?l("[data-footer_my_point]").show():l("[data-footer_my_point]").hide()},i.set_my_tips_close_storage=function(e){window.localStorage.setItem("my_new_version_tips",e)},i.set_recommend_tips_close_storage=function(e){var i=r.get_local_poco_id();1==e&&window.localStorage.setItem("recommend_tips_close_"+i,1)},i.refresh_message_group_count=function(){var e=this.get_unread_count_by_type("message"),i=l("[data-message_num]");e>0?(e>99&&(e="\u00b7\u00b7\u00b7"),i.find("[data-num_html]").html(e),i.show()):(i.find("[data-num_html]").html(0),i.hide())}}),"function"==typeof process_add&&process_add();