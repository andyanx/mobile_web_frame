define("wo/module/message_nav",["base_package"],function(e){var i=e("zepto"),t=e("backbone");e("commom_function");var a=e("page_control"),n=e("notice"),o=t.View.extend({className:"message_nav_container",tpl_html:'<div class="message-nav radius-2px color666 border-style-be f14"><ul class="clearfix"><li class="bgc-fff-e6e" data-nav="news"><span class="txt"> <label>\u52a8\u6001</label> <em class="num circle-oval-item" style="display:none"> <i class="middle"> <i class="inner"> <i class="n font-arial fsn" data-num_html="">0</i> </i> </i> </em> </span></li><li class="bgc-fff-e6e" data-nav="cmt_notice"><span class="txt"> <label>\u8bc4\u8bba</label> <span class="num circle-oval-item" style="display:none"> <i class="middle"> <i class="inner"><i class="n font-arial fsn" data-num_html="">0</i></i></i></span></span></li><li class="bgc-fff-e6e" data-nav="like_notice"><span class="txt"><label>\u88ab\u559c\u6b22</label><span class="num circle-oval-item" style="display:none"><i class="middle"><i class="inner"><i class="n font-arial fsn" data-num_html="">0</i></i></i></span></span></li><li class="bgc-fff-e6e" data-nav="notice_list"><span class="txt"><label>\u901a\u77e5</label><span class="num circle-oval-item" style="display:none"><i class="middle"><i class="inner"><i class="n font-arial fsn" data-num_html="">0</i></i></i></span></span></li></ul></div>',events:{"tap [data-nav]":function(e){var t=this,n=i(e.currentTarget).attr("data-nav");n==t.cur_type?"function"==typeof t.click_cur_nav&&t.click_cur_nav.call(this,n):("function"==typeof t.click_other_nav&&t.click_other_nav.call(this,n),a.navigate_to_page(n))}},initialize:function(e){var i=this,e=e||{};i.click_cur_nav=e.click_cur_nav||function(){},i.click_other_nav=e.click_other_nav||function(){},i.cur_type=e.cur_link_type||"",i.__render(),i.set_link_type(i.cur_type)},__render:function(){var e=this;e.$el.append(e.tpl_html)},show:function(){var e=this;e.$el.show()},hide:function(){var e=this;e.$el.hide()},set_link_type:function(e){var i=this;i.cur_type=e,i.$el.find("[data-nav]").removeClass("cur"),i.$el.find("[data-nav='"+e+"']").addClass("cur"),console.log("set_link_type")},update_nav_num:function(){n.message_nav_num_refresh()},clear_num:function(){var e=this,i=e.$el.find("[data-nav='"+e.cur_type+"']").find(".num");i.find("[data-num_html]").html(0),i.hide();var t="";switch(e.cur_type){case"message":t="message";break;case"news":t="message";break;case"cmt_notice":t="cmt";break;case"notice_list":t="system";break;case"like_notice":t="belike"}n.update_unread_status_by_type(t)}});return o}),"function"==typeof process_add&&process_add();